# gopr — сервис назначения ревьюеров для PR

## Описание

Микросервис на Go для управления командами, пользователями и автоматического назначения ревьюверов на Pull Request’ы.

Функциональность:

- создание команд и пользователей;
- создание PR с автоназначением до 2 активных ревьюверов из команды автора;
- переназначение ревьювера;
- merge PR (идемпотентный);
- получение PR по ревьюверу.

Скелет проекта был взят из моих предыдущих командных проектов (github.com/shampsdev, t.me/shampsdev), где я был
фуллстек‑разработчиком.

## Запуск

```bash
docker compose up --build
```

После запуска сервис доступен на: **http://localhost:8000**

Миграции применяются автоматически при старте контейнеров.

## Swagger

Документация API:  
**http://localhost:8000/swagger/index.html**

## Тесты

### E2E  тесты

```bash
go test ./... -run E2E -v
```

Тесты используют **Testcontainers** и поднимают временный PostgreSQL.

## Структура

- `/cmd/server` — точка входа
- `/internal/usecase` — бизнес‑логика
- `/internal/repo` — репозитории
- `/internal/gateways/rest` — HTTP API
- `/migrations` — SQL‑миграции

---

## UPD

Для корректной работы проекта необходимо указать соответствующие переменные окружения (указаны в файле .env.example).

Из-за новых требований к проекту (в письме от 18го ноября) пришлось добавить .env в репозиторий и убрать из .gitignore
В обычной ситуации такое не требуется, а переменные окружения прокидываются либо в ручную, либо иным образом. Но сейчас
это сделано только для упрощения проверки задания